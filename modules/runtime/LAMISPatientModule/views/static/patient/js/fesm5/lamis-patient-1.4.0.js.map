{
  "version": 3,
  "file": "lamis-patient-1.4.0.js",
  "sources": [
    "ng://lamis-patient-1.4.0/lib/services/patient.service.ts",
    "ng://lamis-patient-1.4.0/lib/components/patient-list.component.ts",
    "ng://lamis-patient-1.4.0/lib/components/patient-details.component.ts",
    "ng://lamis-patient-1.4.0/lib/components/patient-edit.component.ts",
    "ng://lamis-patient-1.4.0/lib/components/detailed.timeline.component.ts",
    "ng://lamis-patient-1.4.0/lib/services/patient.route.ts",
    "ng://lamis-patient-1.4.0/lib/components/widget-container.component.ts",
    "ng://lamis-patient-1.4.0/lib/services/observation.service.ts",
    "ng://lamis-patient-1.4.0/lib/components/timeline.component.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.widget.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.event.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.badge.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.footer.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.header.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.panel.ts",
    "ng://lamis-patient-1.4.0/lib/widget/timeline.widget.module.ts",
    "ng://lamis-patient-1.4.0/lib/components/unique-hospital-num.validator.ts",
    "ng://lamis-patient-1.4.0/lib/components/summary.widget.component.ts",
    "ng://lamis-patient-1.4.0/lib/patient.module.ts",
    "ng://lamis-patient-1.4.0/lib/components/client-status.component.ts",
    "ng://lamis-patient-1.4.0/lib/services/status.route.ts",
    "ng://lamis-patient-1.4.0/lib/client-status.module.ts",
    "ng://lamis-patient-1.4.0/public_api.ts",
    "ng://lamis-patient-1.4.0/lamis-patient-1.4.0.ts"
  ],
  "sourcesContent": [
    "import { Inject, Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport {\n    AuthServerProvider,\n    createRequestOption,\n    DATE_FORMAT,\n    SERVER_API_URL_CONFIG,\n    ServerApiUrlConfig\n} from '@lamis/web-core';\nimport { map, share } from 'rxjs/operators';\nimport { OVC, Patient, StatusHistory } from '../model/patient.model';\n\nimport * as moment_ from 'moment';\nimport { Moment } from 'moment';\nimport { Facility } from '../model/facility.model';\nimport { ValidationErrors } from '@angular/forms';\nimport { Summary } from '../components/summary.widget.component';\n\nconst moment = moment_;\n\ntype EntityResponseType = HttpResponse<Patient>;\ntype EntityArrayResponseType = HttpResponse<Patient[]>;\n\nexport interface PatientActivity {\n    uuid?: string;\n    id?: any;\n    name?: string;\n    icon?: string;\n    path?: string;\n    editable?: boolean;\n    viewable?: boolean;\n    deletable?: boolean;\n}\n\nexport interface PatientTimeline {\n    date?: string;\n    activities?: PatientActivity[];\n}\n\nexport interface PatientWidget {\n    title: string;\n    componentName: string;\n    index: number;\n    icon?: string;\n}\n\nexport interface PatientObservation {\n    name?: string;\n    path?: string;\n    icon?: string;\n    tooltip?: string;\n}\n\n@Injectable({providedIn: 'root'})\nexport class PatientService {\n    public resourceUrl = '';\n    public resourceSearchUrl = '';\n    private ovcResourceUrl = '';\n\n    constructor(protected http: HttpClient, @Inject(SERVER_API_URL_CONFIG) private serverUrl: ServerApiUrlConfig,\n                private authServerProvider: AuthServerProvider) {\n        this.resourceUrl = serverUrl.SERVER_API_URL + '/api/patients';\n        this.resourceSearchUrl = serverUrl.SERVER_API_URL + '/api/_search/patients';\n        this.ovcResourceUrl = serverUrl.SERVER_API_URL + '/api/ovcs';\n    }\n\n    create(data: Patient): Observable<EntityResponseType> {\n        const patient = this.convertDateFromClient(data);\n        return this.http\n            .post<Patient>(this.resourceUrl, patient, {observe: 'response'})\n            .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)));\n    }\n\n    update(data: Patient): Observable<EntityResponseType> {\n        const patient = this.convertDateFromClient(data);\n        return this.http\n            .put<Patient>(this.resourceUrl, patient, {observe: 'response'})\n            .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)),\n                share());\n    }\n\n    find(id: any): Observable<EntityResponseType> {\n        return this.http\n            .get<Patient>(`${this.resourceUrl}/${id}`, {observe: 'response'})\n            .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)));\n    }\n\n    findByUuid(id: any): Observable<EntityResponseType> {\n        return this.http\n            .get<Patient>(`${this.resourceUrl}/by-uuid/${id}`, {observe: 'response'})\n            .pipe(map((res: EntityResponseType) => this.convertDateFromServer(res)));\n    }\n\n    query(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        return this.http\n            .get<Patient[]>(this.resourceUrl, {params: options, observe: 'response'})\n            .pipe(map((res: EntityArrayResponseType) => this.convertDateArrayFromServer(res)));\n    }\n\n    delete(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.resourceUrl}/${id}`, {observe: 'response'});\n    }\n\n    getOVCByPatient(id: number) {\n        return this.http.get<OVC>(`${this.ovcResourceUrl}/patient/${id}`)\n    }\n\n    widgets(patientId: number): Observable<PatientWidget[]> {\n        return this.http.get<PatientWidget[]>(`${this.resourceUrl}/${patientId}/widgets`, {observe: 'body'})\n    }\n\n    observations(patientId: number): Observable<PatientObservation[]> {\n        return this.http.get<PatientObservation[]>(`${this.resourceUrl}/${patientId}/observations`, {\n            observe: 'body'\n        })\n    }\n\n    activities(patientId: number, detailed: boolean): Observable<PatientTimeline[]> {\n        return this.http.get<PatientTimeline[]>(`${this.resourceUrl}/${patientId}/activities?full=${detailed}`, {observe: 'body'})\n            .pipe(map(res => {\n                res.sort((t1, t2) => {\n                    const d1 = moment(t1.date, 'DD MMM, YYYY');\n                    const d2 = moment(t2.date, 'DD MMM, YYYY');\n                    return d2.diff(d1);\n                });\n                return res;\n            }))\n    }\n\n    getActiveFacility() {\n        return this.http.get<Facility>('/api/facilities/active')\n    }\n\n    getAllFacility() {\n        return this.http.get<Facility[]>('/api/facilities')\n    }\n\n    getStates() {\n        return this.http.get<any[]>('/api/states')\n    }\n\n    getLgasByState(id) {\n        return this.http.get<any[]>(`/api/provinces/state/${id}`)\n    }\n\n    getStateByLga(id) {\n        return this.http.get(`/api/provinces/${id}/state`)\n    }\n\n    getFacility(id) {\n        return this.http.get(`/api/facilities/${id}`)\n    }\n\n    existsByHospitalNumber(hospitalNum: string): Observable<ValidationErrors | null> {\n        return this.http.post<boolean>(`${this.resourceUrl}/exists/hospital-number`, {number: hospitalNum})\n            .pipe(map((res => res ? {'numberExists': true} : null)));\n    }\n\n    getStatusDatesByPatient(patientId: number) {\n        return this.http.get<Moment[]>(`/api/client-statuses/patient/${patientId}/status-dates`)\n            .pipe(map((res) => {\n                    res.forEach(d => moment(d));\n                    return res;\n                })\n            )\n    }\n\n    getSummaryForPatient(id: number) {\n        return this.http.get<Summary[]>(`${this.resourceUrl}/${id}/summary`)\n    }\n\n    saveClientStatus(status: StatusHistory) {\n        console.log('Status', status);\n        const copy = PatientService.convertStatusFromClient(status);\n        console.log('Copy', copy);\n        return this.http.post<StatusHistory>('/api/client-statuses', copy, {observe: 'response'})\n    }\n\n    updateClientStatus(status: StatusHistory) {\n        const copy = PatientService.convertStatusFromClient(status);\n        return this.http.put<StatusHistory>('/api/client-statuses', copy, {observe: 'response'})\n    }\n\n    findClientStatus(id) {\n        return this.http.get<StatusHistory>(`/api/client-statuses/by-uuid/${id}`, {observe: 'response'})\n            .pipe(map((res: HttpResponse<StatusHistory>) => {\n                res.body.dateTracked = res.body.dateTracked != null ? moment(res.body.dateTracked) : null;\n                res.body.dateStatus = res.body.dateStatus != null ? moment(res.body.dateStatus) : null;\n                res.body.agreedDate = res.body.agreedDate != null ? moment(res.body.agreedDate) : null;\n                return res;\n            }))\n    }\n\n    currentClientStatus(patientId: string) {\n        return this.http.get(`/api/client-statuses/patient/${patientId}/current`, {responseType: 'text'})\n    }\n\n    getStatusName(id: number) {\n        return this.http.get(`/api/client-statuses/${id}/name`, {responseType: 'text'})\n    }\n\n    private static convertStatusFromClient(status: StatusHistory): StatusHistory {\n        const copy: StatusHistory = Object.assign({}, status, {\n                dateStatus: status.dateStatus != null && status.dateStatus.isValid() ? status.dateStatus.format(DATE_FORMAT) : null,\n                agreedDate: status.agreedDate != null && status.agreedDate.isValid() ? status.agreedDate.format(DATE_FORMAT) : null,\n                dateTracked: status.dateTracked != null && status.dateTracked.isValid() ? status.dateTracked.format(DATE_FORMAT) : null,\n            }\n        );\n        return copy;\n    }\n\n    protected convertDateFromClient(patient: Patient): Patient {\n        const copy: Patient = Object.assign({}, patient, {\n            dateBirth: patient.dateBirth != null && patient.dateBirth.isValid() ? patient.dateBirth.format(DATE_FORMAT) : null,\n            dateRegistration: patient.dateRegistration != null && patient.dateRegistration.isValid() ? patient.dateRegistration.format(DATE_FORMAT) : null,\n            dateStarted: patient.dateStarted != null && patient.dateStarted.isValid() ? patient.dateStarted.format(DATE_FORMAT) : null,\n            dateConfirmedHiv: patient.dateConfirmedHiv != null && patient.dateConfirmedHiv.isValid() ? patient.dateConfirmedHiv.format(DATE_FORMAT) : null,\n            dateEnrolledPMTCT: patient.dateEnrolledPMTCT != null && patient.dateEnrolledPMTCT.isValid() ? patient.dateEnrolledPMTCT.format(DATE_FORMAT) : null,\n            pregnant: patient.pregnancyStatus === 2,\n            breastfeeding: patient.pregnancyStatus === 3\n        });\n        return copy;\n    }\n\n    protected convertDateFromServer(res: EntityResponseType): EntityResponseType {\n        if (res.body) {\n            res.body.name = res.body.surname + ', ' + res.body.otherNames;\n            res.body.dateBirth = res.body.dateBirth != null ? moment(res.body.dateBirth) : null;\n            res.body.dateRegistration = res.body.dateRegistration != null ? moment(res.body.dateRegistration) : null;\n            res.body.dateConfirmedHiv = res.body.dateConfirmedHiv != null ? moment(res.body.dateConfirmedHiv) : null;\n            res.body.dateEnrolledPMTCT = res.body.dateEnrolledPMTCT != null ? moment(res.body.dateEnrolledPMTCT) : null;\n            res.body.dateStarted = res.body.dateStarted != null ? moment(res.body.dateStarted) : null;\n            res.body.pregnancyStatus = res.body.pregnant != null && res.body.pregnant ? 2 : res.body.gender === 'FEMALE' ? 1 : null;\n            res.body.pregnancyStatus = res.body.breastfeeding != null && res.body.breastfeeding ? 3 : res.body.gender === 'FEMALE' ? 1 : null;\n        }\n        return res;\n    }\n\n    protected convertDateArrayFromServer(res: EntityArrayResponseType): EntityArrayResponseType {\n        if (res.body) {\n            res.body.forEach((patient: Patient) => {\n                patient.name = patient.surname + ', ' + patient.otherNames;\n                patient.dateBirth = patient.dateBirth != null ? moment(patient.dateBirth) : null;\n                patient.dateRegistration = patient.dateRegistration != null ? moment(patient.dateRegistration) : null;\n                patient.dateStarted = patient.dateStarted != null ? moment(patient.dateStarted) : null;\n            });\n        }\n        return res;\n    }\n}\n",
    "import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { PatientService } from '../services/patient.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NotificationService } from '@alfresco/adf-core';\r\nimport { Patient } from '../model/patient.model';\r\nimport { Facility } from '../model/facility.model';\r\n\r\n@Component({\r\n    selector: 'lamis-patients',\r\n    templateUrl: './patient-list.component.html'\r\n})\r\nexport class PatientListComponent implements OnInit, OnDestroy {\r\n    @Input()\r\n    path: string;\r\n    page = 0;\r\n    patients: Patient[];\r\n    loading = false;\r\n    public itemsPerPage: number = 10;\r\n    public currentSearch: string = '';\r\n    totalItems = 0;\r\n    display = 'list';\r\n    facility: Facility = {};\r\n\r\n    constructor(private patientService: PatientService,\r\n                protected notification: NotificationService,\r\n                protected router: Router,\r\n                protected activatedRoute: ActivatedRoute) {\r\n        this.currentSearch = '';\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.patientService.getActiveFacility().subscribe(res => {\r\n            this.facility = res;\r\n            this.onPageChange(0);\r\n        })\r\n    }\r\n\r\n    searchPatient(search: any) {\r\n        this.currentSearch = search;\r\n        this.page = 0;\r\n        this.loadAll();\r\n    }\r\n\r\n\r\n    public select(data: any): any {\r\n        if (!!this.path) {\r\n            this.router.navigateByUrl(`${this.path}/${data.obj.uuid}`)\r\n        } else {\r\n            this.router.navigate(['..', 'patients', data.obj.uuid, 'view'], {relativeTo: this.activatedRoute});\r\n        }\r\n    }\r\n\r\n    onPageChange(pageInfo) {\r\n        this.page = pageInfo;\r\n        this.loadAll();\r\n    }\r\n\r\n    loadPage(page: number) {\r\n        this.loadAll();\r\n    }\r\n\r\n    loadAll() {\r\n        this.loading = true;\r\n        this.patientService.query({\r\n            keyword: this.currentSearch,\r\n            page: this.page > 0 ? this.page - 1 : 0,\r\n            facilityId: this.facility.id || 0,\r\n            size: this.itemsPerPage,\r\n            sort: ['id', 'asc']\r\n        }).subscribe(\r\n            (res: any) => {\r\n                this.onSuccess(res.body, res.headers)\r\n            },\r\n            (res: any) => this.onError(res)\r\n        );\r\n    }\r\n\r\n    protected onSuccess(data: any, headers: any) {\r\n        this.patients = data;\r\n        this.totalItems = headers.get('X-Total-Count');\r\n        this.loading = false;\r\n    }\r\n\r\n    private onError(error: any) {\r\n        this.notification.openSnackMessage(error.message);\r\n        this.loading = false;\r\n    }\r\n}\r\n\r\n",
    "import {\r\n    Component,\r\n    ComponentFactory,\r\n    ComponentFactoryResolver,\r\n    OnDestroy,\r\n    OnInit,\r\n    Renderer2,\r\n    ViewChild,\r\n    ViewContainerRef\r\n} from '@angular/core';\r\nimport { Patient } from '../model/patient.model';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { PatientObservation, PatientService, PatientWidget } from '../services/patient.service';\r\nimport { TdDialogService } from '@covalent/core';\r\nimport { CardViewItem, NotificationService } from '@alfresco/adf-core';\r\nimport { Moment } from 'moment';\r\nimport * as moment_ from 'moment';\r\n\r\nconst moment = moment_;\r\n\r\n@Component({\r\n    selector: 'lamis-patient',\r\n    templateUrl: './patient-details.component.html',\r\n    styleUrls: ['./patient-details.component.scss']\r\n})\r\nexport class PatientDetailsComponent implements OnInit, OnDestroy {\r\n    template = 'patient-details';\r\n    entity: Patient;\r\n    observations: PatientObservation[];\r\n    @ViewChild('container', {read: ViewContainerRef, static: true}) container: ViewContainerRef;\r\n    properties: CardViewItem[] = [];\r\n    status: string;\r\n\r\n    constructor(private router: Router, private route: ActivatedRoute, private patientService: PatientService,\r\n                private cfr: ComponentFactoryResolver, private _dialogService: TdDialogService,\r\n                private notificationService: NotificationService, private _viewContainerRef: ViewContainerRef,\r\n                private renderer2: Renderer2) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.route.data.subscribe(({entity}) => {\r\n            this.entity = !!entity && entity.body ? entity.body : entity;\r\n            this.patientService.currentClientStatus(entity.uuid).subscribe(res => {\r\n                this.status = res;\r\n            });\r\n            this.attacheWidgets();\r\n            this.getObservations();\r\n        });\r\n    }\r\n\r\n    edit() {\r\n        this.router.navigate(['..', 'edit'], {relativeTo: this.route});\r\n    }\r\n\r\n    updateStatus() {\r\n        this.router.navigate(['/', 'client-statuses', 'patient', this.entity.uuid, 'new']);\r\n    }\r\n\r\n    delete() {\r\n        this._dialogService.openConfirm({\r\n            title: 'Confirm',\r\n            message: 'Do you want to delete this patient, action cannot be reversed?',\r\n            cancelButton: 'No',\r\n            acceptButton: 'Yes',\r\n            width: '500px',\r\n        }).afterClosed().subscribe((accept: boolean) => {\r\n            if (accept) {\r\n                this.patientService.delete(this.entity.id).subscribe((res) => {\r\n                    if (res.ok) {\r\n                        this.router.navigate(['patients'])\r\n                    } else {\r\n                        this.notificationService.showError('Error deleting patient, please try again')\r\n                    }\r\n                })\r\n            } else {\r\n                // DO SOMETHING ELSE\r\n            }\r\n        });\r\n    }\r\n\r\n    previousState() {\r\n        window.history.back();\r\n    }\r\n\r\n    private getComponentFactory(name: string) {\r\n        const factories = Array.from(this.cfr['_factories'].values());\r\n        return <ComponentFactory<any>>factories.find((x: any) => x.componentType.name === name);\r\n    }\r\n\r\n    getObservations() {\r\n        this.patientService.observations(this.entity.id).subscribe((res: PatientObservation[]) => this.observations = res)\r\n    }\r\n\r\n    addObservation(action: PatientObservation) {\r\n        const path = action.path.split('/');\r\n        const parts = ['/'];\r\n        parts.push(...path);\r\n        parts.push('patient', this.entity.uuid, 'new');\r\n        this.router.navigate([...parts]);\r\n    }\r\n\r\n    private attacheWidgets() {\r\n        this.buildWidget('TimelineComponent', 'Recent Activities', 'timeline');\r\n        this.buildWidget('SummaryWidgetComponent', 'Patient Summary', 'account_balance_wallet');\r\n        /*this.patientService.widgets(this.entity.id).subscribe((res: PatientWidget[]) => {\r\n            res.forEach((widget: PatientWidget) => {\r\n                this.buildWidget(widget.componentName, widget.title, widget.icon);\r\n            })\r\n        });*/\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n    }\r\n\r\n    private buildWidget(componentName: string, title: string, icon: string) {\r\n        const factory = this.getComponentFactory(componentName);\r\n        if (factory !== undefined) {\r\n            const parentFactory = this.getComponentFactory('WidgetContainerComponent');\r\n            const componentRef = this.container.createComponent(parentFactory);\r\n            if (!componentRef.instance.embeddedContainer) {\r\n                const cmpName = componentRef.instance.constructor.name;\r\n                throw new TypeError(`Trying to render embedded content. ${cmpName} must have @ViewChild() embeddedContainer defined`);\r\n            }\r\n            console.log('Created component', componentRef);\r\n            const instanceRef = componentRef.instance.embeddedContainer.createComponent(factory);\r\n            this.renderer2.addClass(componentRef.location.nativeElement, 'col-md-6');\r\n            componentRef.instance.icon = icon;\r\n            componentRef.instance.title = title;\r\n            try {\r\n                instanceRef.instance.patientId = this.entity.id;\r\n                instanceRef.instance.patientUuid = this.entity.uuid;\r\n            } catch (e) {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    age(dob: Moment) {\r\n        let age = moment().diff(dob, 'years');\r\n        if (age > 0) {\r\n            return age + ' year(s)'\r\n        }\r\n\r\n        age = moment().diff(dob, 'months');\r\n        if (age > 0) {\r\n            return age + ' month(s)';\r\n        }\r\n        return moment().diff(dob, 'weeks') + ' week(s)';\r\n    }\r\n}\r\n",
    "import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {OVC, Patient} from '../model/patient.model';\r\nimport {PatientService} from '../services/patient.service';\r\nimport {NotificationService} from '@alfresco/adf-core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {HttpErrorResponse, HttpResponse} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport * as moment_ from 'moment';\r\nimport {DurationInputArg2, Moment} from 'moment';\r\nimport {AppLoaderService, DATE_FORMAT, entityCompare} from '@lamis/web-core';\r\nimport {TdDialogService} from '@covalent/core';\r\nimport {NgForm} from '@angular/forms';\r\n\r\nconst moment = moment_;\r\n\r\n@Component({\r\n    selector: 'lamis-patient-edit',\r\n    templateUrl: './patient-edit.component.html'\r\n})\r\nexport class PatientEditComponent implements OnInit {\r\n    @ViewChild('patientForm', {static: true}) public patientForm: NgForm;\r\n    template = 'patient-edit';\r\n    entity: Patient;\r\n    ovc: OVC = {};\r\n    patient: Patient;\r\n    isSaving: boolean;\r\n    error = false;\r\n    today = moment();\r\n    minDob = moment().subtract(75, 'years');\r\n    ovcMin: Moment;\r\n    minDateRegistration: Moment = moment('1998', 'YYYY');\r\n    maxDateBirth: Moment = moment().subtract(2, 'months');\r\n    maxDateConfirmed = moment();\r\n    minDateConfirmed = moment('1998', 'YYYY');\r\n    age: number;\r\n    ageUnit: DurationInputArg2;\r\n    state: any;\r\n    states: any[];\r\n    lgas: any[];\r\n    ovcApplicable = false;\r\n    householdUniqueNo: string;\r\n    referredTo: string;\r\n    dateReferredTo: Moment;\r\n    referredFrom: string;\r\n    dateReferredFrom: Moment;\r\n    prep: boolean = false;\r\n    prepId: string;\r\n    indicationForPrep: string;\r\n    onDemandIndication: string;\r\n\r\n    constructor(private patientService: PatientService,\r\n                protected notification: NotificationService,\r\n                private loaderService: AppLoaderService,\r\n                private _dialogService: TdDialogService,\r\n                protected activatedRoute: ActivatedRoute) {\r\n    }\r\n\r\n    createEntity(): Patient {\r\n        return <Patient>{};\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.patientService.getActiveFacility().subscribe((res: any) => {\r\n            this.entity.facility = res;\r\n        });\r\n        this.isSaving = false;\r\n        this.activatedRoute.data.subscribe(({entity}) => {\r\n            this.entity = !!entity && entity.body ? entity.body : entity;\r\n            if (this.entity === undefined) {\r\n                this.entity = this.createEntity();\r\n\r\n                this.entity.extra = {\r\n                    art: true\r\n                }\r\n            }\r\n            if (this.entity.id) {\r\n                this.ovcMin = this.entity.dateBirth.clone();\r\n            }\r\n            if (this.entity.id && this.entity.lga) {\r\n                this.minDateRegistration = this.entity.dateBirth.clone().add(2, 'month');\r\n                this.minDateConfirmed = this.entity.dateBirth.clone().add(1, 'month');\r\n                this.patientService.getStateByLga(this.entity.lga.id).subscribe(res => {\r\n                    this.state = res;\r\n                    this.stateChange(this.state.id);\r\n                })\r\n            }\r\n            if (this.entity.extra && this.entity.extra.prep) {\r\n                this.prep = true;\r\n                this.indicationForPrep = this.entity.extra.prep.indicationForPrep;\r\n                this.prepId = this.entity.extra.prep.prepId;\r\n                this.onDemandIndication = this.entity.extra.prep.onDemandIndication;\r\n            }\r\n            if (this.entity.extra && this.entity.extra.ovc) {\r\n                this.ovc.householdUniqueNo = this.entity.extra.ovc.householdUniqueNo;\r\n                this.ovc.referredTo = this.entity.extra.ovc.referredTo;\r\n                this.ovc.referredFrom = this.entity.extra.ovc.referredFrom;\r\n                if (!!this.entity.extra.ovc.dateReferredTo) {\r\n                    this.ovc.dateReferredTo = moment(this.entity.extra.ovc.dateReferredTo);\r\n                }\r\n\r\n                if (!!this.entity.extra.ovc.dateReferredFrom) {\r\n                    this.ovc.dateReferredFrom = moment(this.entity.extra.ovc.dateReferredFrom);\r\n                }\r\n                if (!this.entity.extra.ovc.servicesProvided) {\r\n                    this.ovc.servicesProvided = [];\r\n                }\r\n            }\r\n            const date = this.entity.dateBirth && this.entity.dateBirth.clone() || moment('1998-01-01', 'YYYY-MM-DD');\r\n            if (!moment().subtract(17, 'years').isAfter(date)) {\r\n                this.ovcApplicable = true;\r\n            }\r\n\r\n            this.patientForm.form.setErrors({'invalid': true});\r\n            this.patientForm.form.markAllAsTouched();\r\n        });\r\n\r\n        this.patientService.getStates().subscribe(res => this.states = res);\r\n    }\r\n\r\n    entityCompare(e1, e2) {\r\n        return entityCompare(e1, e2);\r\n    }\r\n\r\n    estimateDob() {\r\n        if (this.age && this.ageUnit && this.entity.dateRegistration) {\r\n            const dateRegistration = this.entity.dateRegistration;\r\n            this.entity.dateBirth = dateRegistration.clone().subtract(this.age, this.ageUnit);\r\n            this.ovcMin = this.entity.dateBirth.clone();\r\n            this.minDateConfirmed = this.entity.dateBirth.clone().add(1, 'months');\r\n            this.ovcApplicable = !this.entity.dateRegistration.clone().subtract(17, 'years').isAfter(this.entity.dateBirth);\r\n        }\r\n    }\r\n\r\n    stateChange(id) {\r\n        this.patientService.getLgasByState(id).subscribe(res => this.lgas = res)\r\n    }\r\n\r\n    statusChanged() {\r\n        this.prep = this.entity.statusAtRegistration === 'HIV_NEGATIVE';\r\n        if (this.prep) {\r\n            this.entity.extra['art'] = false;\r\n            this.entity.extra.prep = {\r\n                registered: true\r\n            };\r\n        } else {\r\n            this.entity.extra['art'] = true;\r\n            this.entity.extra.prep = {\r\n                registered: false\r\n            };\r\n        }\r\n    }\r\n\r\n    previousState() {\r\n        window.history.back();\r\n    }\r\n\r\n    dateBirthChanged(date: Moment) {\r\n        this.minDateRegistration = date.clone().add(2, 'months');\r\n        this.minDateConfirmed = date.clone().add(1, 'months');\r\n        if (this.minDateRegistration.isBefore(moment('1998', 'YYYY'), 'day')) {\r\n            this.minDateRegistration = moment('1998', 'YYYY');\r\n            this.minDateConfirmed = moment('1998', 'YYYY');\r\n        }\r\n        this.ovcMin = date.clone();\r\n        if (!!this.entity.dateRegistration) {\r\n            this.ovcApplicable = !this.entity.dateRegistration.clone().subtract(17, 'years').isAfter(this.entity.dateBirth);\r\n        }\r\n    }\r\n\r\n    dateRegistrationChanged(date: Moment) {\r\n        this.maxDateBirth = date.clone().subtract(2, 'months');\r\n        this.maxDateConfirmed = date.clone();\r\n\r\n        if (!!this.entity.dateBirth) {\r\n            this.ovcApplicable = !this.entity.dateRegistration.clone().subtract(17, 'years').isAfter(this.entity.dateBirth);\r\n        }\r\n    }\r\n\r\n    save() {\r\n        //this.progressBar.mode = 'indeterminate';\r\n        this.isSaving = true;\r\n        if (this.prep) {\r\n            if (!this.entity.extra) {\r\n                this.entity.extra = {};\r\n            }\r\n            this.entity.extra.prep = {\r\n                registered: true,\r\n                prepId: this.prepId,\r\n                indicationForPrep: this.indicationForPrep,\r\n                onDemandIndication: this.onDemandIndication\r\n            };\r\n        } else {\r\n            this.entity.extra.prep = {\r\n                registered: false\r\n            };\r\n        }\r\n        if (this.ovcApplicable) {\r\n            if (!this.entity.extra) {\r\n                this.entity.extra = {};\r\n            }\r\n            this.entity.extra.ovc = {};\r\n            this.entity.extra.ovc = this.ovc;\r\n            this.entity.extra.ovc.dateReferredFrom = this.ovc.dateReferredFrom != null && this.ovc.dateReferredFrom.isValid() ?\r\n                this.ovc.dateReferredFrom.format(DATE_FORMAT) : null;\r\n            this.entity.extra.ovc.dateReferredTo = this.ovc.dateReferredTo != null && this.ovc.dateReferredTo.isValid() ?\r\n                this.ovc.dateReferredTo.format(DATE_FORMAT) : null;\r\n\r\n            if (!!this.ovc.householdUniqueNo && !(!!this.ovc.referredFrom || !!this.ovc.referredTo)) {\r\n                this._dialogService.openAlert({\r\n                    title: 'OVC Partner is required',\r\n                    message: 'Please indicate either OVC Partner transferred to or from',\r\n                    disableClose: true\r\n                });\r\n\r\n                return\r\n            }\r\n\r\n            if ((!!this.ovc.referredTo || !!this.ovc.referredFrom) && !this.ovc.householdUniqueNo) {\r\n                this._dialogService.openAlert({\r\n                    title: 'Household number is required',\r\n                    message: 'Please indicate Household Unique No',\r\n                    disableClose: true\r\n                });\r\n\r\n                return\r\n            }\r\n\r\n            if (!!this.ovc.referredFrom && !!this.ovc.referredTo) {\r\n                this._dialogService.openAlert({\r\n                    title: 'OVC Partner mismatch',\r\n                    message: 'Please provide either OVC Partner transfer to or from, not both',\r\n                    disableClose: true\r\n                });\r\n\r\n                return\r\n            }\r\n        }\r\n        this.loaderService.open('Saving patient...');\r\n        if (!this.entity.id) {\r\n            if (this.entity.dobEstimated) {\r\n                this.entity.dateBirth = this.entity.dateRegistration.clone().subtract(this.age, this.ageUnit);\r\n            }\r\n            this.subscribeToSaveResponse(this.patientService.create(this.entity));\r\n        } else {\r\n            this.subscribeToSaveResponse(this.patientService.update(this.entity));\r\n        }\r\n    }\r\n\r\n    private subscribeToSaveResponse(result: Observable<HttpResponse<any>>) {\r\n        this.loaderService.close();\r\n        result.subscribe(\r\n            (res: HttpResponse<any>) => this.onSaveSuccess(res.body),\r\n            (res: HttpErrorResponse) => {\r\n                this.onSaveError();\r\n                this.onError(res.message)\r\n            });\r\n    }\r\n\r\n    private onSaveSuccess(result: any) {\r\n        this.isSaving = false;\r\n        this.notification.showInfo('Patient successfully saved');\r\n        this.previousState();\r\n    }\r\n\r\n    private onSaveError() {\r\n        this.isSaving = false;\r\n        this.error = true;\r\n        //this.progressBar.mode = 'determinate';\r\n    }\r\n\r\n    protected onError(errorMessage: string) {\r\n        this.notification.showError(errorMessage);\r\n    }\r\n\r\n\r\n    isOVCAge() {\r\n        if (this.age && this.ageUnit === 'years') {\r\n            if (this.age >= 10 && this.age <= 24) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        const dob = this.entity.dateBirth.clone();\r\n        const diff = this.entity.dateRegistration.clone().diff(dob);\r\n\r\n        return diff >= 10 && diff <= 24;\r\n    }\r\n}\r\n",
    "import { Component, OnInit } from \"@angular/core\";\nimport { PatientService } from \"../services/patient.service\";\nimport { ActivatedRoute } from \"@angular/router\";\n\n@Component({\n    selector: 'detailed-timeline',\n    templateUrl: './detailed.timeline.component.html'\n})\nexport class DetailedTimelineComponent implements OnInit {\n    id: number;\n    uuid: string;\n\n    constructor(private patientService: PatientService, private route: ActivatedRoute) {\n    }\n\n    ngOnInit(): void {\n        this.route.data.subscribe(({entity}) => {\n            const patient = !!entity && entity.body ? entity.body : entity;\n            this.id = patient.id;\n            this.uuid = patient.uuid;\n        });\n    }\n\n    previousState() {\n        window.history.back();\n    }\n}\n",
    "import { Injectable } from '@angular/core';\nimport { HttpResponse } from '@angular/common/http';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot, Routes } from '@angular/router';\nimport { PagingParamsResolve, UserRouteAccessService } from '@lamis/web-core';\nimport { Observable, of } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { PatientService } from './patient.service';\nimport { Patient } from '../model/patient.model';\nimport { PatientDetailsComponent } from '../components/patient-details.component';\nimport { PatientEditComponent } from '../components/patient-edit.component';\nimport { PatientListComponent } from '../components/patient-list.component';\nimport { DetailedTimelineComponent } from '../components/detailed.timeline.component';\n\n@Injectable()\nexport class PatientResolve implements Resolve<Patient> {\n    constructor(private service: PatientService) {\n    }\n\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Patient> {\n        const id = route.params['id'] ? route.params['id'] : null;\n        if (id) {\n            return this.service.findByUuid(id).pipe(\n                filter((response: HttpResponse<Patient>) => response.ok),\n                map((patient: HttpResponse<Patient>) => patient.body)\n            );\n        }\n        return of(<Patient>{});\n    }\n}\n\nexport const ROUTES: Routes = [\n    {\n        path: '',\n        data: {\n            title: 'Patients',\n            breadcrumb: 'PATIENTS'\n        },\n        children: [\n            {\n                path: '',\n                component: PatientListComponent,\n                resolve: {\n                    pagingParams: PagingParamsResolve\n                },\n                data: {},\n            },\n            {\n                path: ':id/view',\n                component: PatientDetailsComponent,\n                resolve: {\n                    entity: PatientResolve\n                },\n                data: {\n                    authorities: ['ROLE_USER'],\n                    title: 'Patient Details',\n                    breadcrumb: 'PATIENT DETAILS'\n                },\n                //canActivate: [UserRouteAccessService]\n            },\n            {\n                path: 'new',\n                component: PatientEditComponent,\n                data: {\n                    authorities: ['ROLE_DEC'],\n                    title: 'Add Patient',\n                    breadcrumb: 'ADD PATIENT'\n                },\n                //canActivate: [UserRouteAccessService]\n            },\n            {\n                path: ':id/edit',\n                component: PatientEditComponent,\n                resolve: {\n                    entity: PatientResolve\n                },\n                data: {\n                    authorities: ['ROLE_DEC'],\n                    title: 'Patient Edit',\n                    breadcrumb: 'PATIENT EDIT'\n                },\n                //canActivate: [UserRouteAccessService]\n            },\n            {\n                path: ':id/timeline',\n                component: DetailedTimelineComponent,\n                resolve: {\n                    entity: PatientResolve\n                },\n                data: {\n                    authorities: ['ROLE_DEC'],\n                    title: 'Patient Timeline',\n                    breadcrumb: 'PATIENT TIMELINE'\n                },\n                //canActivate: [UserRouteAccessService]\n            }\n        ]\n    }\n];\n\n",
    "import { Component, HostBinding, Input, ViewChild, ViewContainerRef } from '@angular/core';\n\n@Component({\n    selector:'widget-container',\n    templateUrl: './widget-container.component.html',\n    styleUrls: ['./widget-container.component.scss']\n})\nexport class WidgetContainerComponent {\n    @Input()\n    title: string;\n    @Input()\n    icon: string;\n\n    @ViewChild('container', { read: ViewContainerRef,  static: true })\n    embeddedContainer: ViewContainerRef;\n}\n",
    "import { Inject, Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { SERVER_API_URL_CONFIG, ServerApiUrlConfig } from '@lamis/web-core';\n\n@Injectable({providedIn:'root'})\nexport class ObservationService {\n    resourceUrl: string = '';\n\n    constructor(private http: HttpClient, @Inject(SERVER_API_URL_CONFIG) private serverUrl: ServerApiUrlConfig) {\n        this.resourceUrl = serverUrl.SERVER_API_URL + '/api';\n    }\n\n    deleteObservation(path: string, id: string) {\n        return this.http.delete(`${this.resourceUrl}/${path}/${id}`, {observe: 'response'})\n    }\n\n    getObservation(path: string, id: string) {\n        return this.http.get<any>(`${this.resourceUrl}/${path}/by-uuid/${id}`,{observe: 'response'})\n    }\n}\n",
    "import { Component, Input, OnInit } from '@angular/core';\nimport { PatientService, PatientTimeline } from '../services/patient.service';\nimport { Router } from '@angular/router';\nimport { TdDialogService } from '@covalent/core';\nimport { NotificationService } from '@alfresco/adf-core';\nimport { ObservationService } from '../services/observation.service';\n\n@Component({\n    selector: 'patient-timeline',\n    templateUrl: './timeline.component.html'\n})\nexport class TimelineComponent implements OnInit {\n    @Input()\n    patientId: number;\n    @Input()\n    patientUuid: string;\n    @Input()\n    detailed: boolean = false;\n    timeLine: PatientTimeline[];\n\n    constructor(private patientService: PatientService, private router: Router, private observationService: ObservationService,\n                private _dialogService: TdDialogService, private notificationService: NotificationService) {\n    }\n\n    ngOnInit(): void {\n        this.loadActivities()\n    }\n\n    view(path: string, id: string) {\n        this.router.navigate(['/', path, id, 'patient', this.patientUuid, 'view'])\n    }\n\n    edit(path: string, id: string) {\n        this.router.navigate(['/', path, id, 'patient', this.patientUuid, 'edit'])\n    }\n\n    delete(path: string, id: string) {\n        this._dialogService.openConfirm({\n            title: 'Confirm',\n            message: 'Do you want to delete this event, action cannot be reversed?',\n            cancelButton: 'No',\n            acceptButton: 'Yes',\n            width: '500px',\n        }).afterClosed().subscribe((accept: boolean) => {\n            if (accept) {\n                this.observationService.getObservation(path, id).subscribe(obj => {\n                    if (obj.body) {\n                        this.observationService.deleteObservation(path, obj.body.id).subscribe((res) => {\n                            if (res.ok) {\n                                this.patientService.activities(this.patientId, this.detailed).subscribe((res) => this.timeLine = res)\n                            } else {\n                                this.notificationService.showError('Error deleting event, please try again')\n                            }\n                        })\n                    }\n                })\n            } else {\n                // DO SOMETHING ELSE\n            }\n        });\n    }\n\n    loadActivities() {\n        this.patientService.activities(this.patientId, this.detailed).subscribe((res) => this.timeLine = res)\n    }\n}\n",
    "import { Component, OnInit } from \"@angular/core\";\n\n@Component({\n    selector: 'timeline',\n    templateUrl: './timeline.widget.html'\n})\nexport class TimelineWidget implements OnInit{\n    ngOnInit(): void {\n    }\n\n}\n",
    "import { Component, Input, OnInit } from '@angular/core';\nimport { TimelineWidget } from './timeline.widget';\n\n@Component({\n    selector: 'timeline-event',\n    templateUrl: './timeline.event.html'\n})\nexport class TimelineEvent implements OnInit {\n\n    oddClass;\n    evenClass;\n    _side: string = 'left';\n    @Input()\n    set side(side: string) {\n        this._side = side;\n        this.updateRowClasses(this._side);\n    }\n    \n    constructor(private parent: TimelineWidget) {\n    }\n\n    ngOnInit(): void {\n        this.updateRowClasses(this._side);\n    }\n\n    checkClass(side, leftSide) {\n        let leftClass = '';\n        let rightClass = 'timeline-inverted';\n\n        if (side === 'left' || (!side && leftSide === true)) {\n            return leftClass;\n        } else if ((side === 'alternate' || !side) && leftSide === false) {\n            return rightClass;\n        } else if (side === 'right') {\n            return rightClass;\n        } else {\n            return leftClass;\n        }\n    }\n\n    updateRowClasses(value) {\n        this.oddClass = this.checkClass(value, true);\n        this.evenClass = this.checkClass(value, false);\n    }\n}\n",
    "import { Component } from '@angular/core';\nimport { TimelineEvent } from './timeline.event';\n\n@Component({\n    selector: 'timeline-badge',\n    template: `\n        <div class='timeline-badge'>\n            <ng-content></ng-content>\n        </div>\n    `\n})\nexport class TimelineBadge {\n    constructor(private event: TimelineEvent) {\n    }\n}\n",
    "import { Component } from '@angular/core';\n\n@Component({\n    selector: 'timeline-footer',\n    template: `\n        <div class='timeline-footer'>\n            <ng-content></ng-content>\n        </div>\n    `\n})\nexport class TimelineFooter {\n    \n}\n",
    "import { Component } from '@angular/core';\n\n@Component({\n    selector: 'timeline-header',\n    template: `\n        <div class='timeline-header'>\n            <ng-content></ng-content>\n        </div>\n    `\n})\nexport class TimelineHeader {\n\n}\n",
    "import { Component } from '@angular/core';\nimport { TimelineEvent } from './timeline.event';\n\n@Component({\n    selector: 'timeline-panel',\n    template:\n            `\n        <div class='timeline-panel'>\n            <ng-content></ng-content>\n        </div>`\n})\nexport class TimelinePanel {\n    constructor(private event: TimelineEvent) {\n    }\n}\n",
    "import { NgModule } from '@angular/core';\nimport { TimelineWidget } from './timeline.widget';\nimport { TimelineEvent } from './timeline.event';\nimport { TimelineBadge } from './timeline.badge';\nimport { TimelineFooter } from './timeline.footer';\nimport { TimelineHeader } from './timeline.header';\nimport { TimelinePanel } from './timeline.panel';\n\nconst COMPONENTS = [TimelineBadge, TimelineEvent, TimelineFooter, TimelineHeader, TimelinePanel, TimelineWidget];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS\n    ],\n    exports: [\n        ...COMPONENTS\n    ]\n})\nexport class TimelineWidgetModule {\n\n}\n",
    "import { AbstractControl, AsyncValidator, NG_ASYNC_VALIDATORS, ValidationErrors } from '@angular/forms';\nimport { Directive } from '@angular/core';\nimport { PatientService } from '../services/patient.service';\nimport { Observable, of } from 'rxjs';\nimport { debounceTime, switchMap, take } from 'rxjs/operators';\n\n@Directive({\n    selector: '[uniqueHospitalNum]',\n    providers: [{\n        provide: NG_ASYNC_VALIDATORS,\n        useExisting: UniqueHospitalNumValidator,\n        multi: true\n    }]\n})\nexport class UniqueHospitalNumValidator implements AsyncValidator {\n    constructor(private patientService: PatientService) {\n    }\n\n    validate(control: AbstractControl): Observable<ValidationErrors | null> {\n        return control.valueChanges\n            .pipe(\n                debounceTime(300),\n                take(1),\n                switchMap(value => this.patientService.existsByHospitalNumber(value))\n            );\n    }\n}\n",
    "import { Component, Input, OnInit } from '@angular/core';\nimport {\n    CardViewBoolItemModel,\n    CardViewDateItemModel,\n    CardViewDatetimeItemModel,\n    CardViewFloatItemModel,\n    CardViewIntItemModel,\n    CardViewItem,\n    CardViewTextItemModel\n} from '@alfresco/adf-core';\nimport { FieldType } from '@lamis/web-core';\nimport { PatientService } from '../services/patient.service';\nimport * as moment_ from 'moment';\n\nconst moment = moment_;\n\nexport interface Summary {\n    header?: string;\n    headerClass?: string;\n    fields: Field[];\n}\n\nexport interface Field {\n    type: FieldType;\n    label: string;\n    value: any;\n}\n\n@Component({\n    selector: 'patient-summary-widget',\n    templateUrl: './summary.widget.component.html'\n})\nexport class SummaryWidgetComponent implements OnInit {\n    @Input()\n    patientId: number;\n    @Input()\n    patientUuid: string;\n    @Input()\n\n    summaries: Summary[];\n\n    constructor(private patientService: PatientService) {\n    }\n\n    ngOnInit(): void {\n        this.patientService.getSummaryForPatient(this.patientId).subscribe(res => this.summaries = res)\n    }\n\n    public propertiesForSummary(summary: Summary): Array<CardViewItem> {\n        const properties = [];\n        for (const field of summary.fields) {\n            const dataType = field.type.toLowerCase();\n            let item: CardViewItem;\n            switch (dataType) {\n                case FieldType.boolean:\n                    item = new CardViewBoolItemModel({\n                        value: field.value,\n                        key: '',\n                        label: field.label\n                    });\n                    break;\n                case FieldType.int:\n                    item = new CardViewIntItemModel({\n                        value: field.value,\n                        key: '',\n                        label: field.label,\n                    });\n                    break;\n                case FieldType.float:\n                    item = new CardViewFloatItemModel({\n                        value: field.value,\n                        key: '',\n                        label: field.label,\n                    });\n                    break;\n                case FieldType.date:\n                    item = new CardViewDateItemModel({\n                        value: field.value ? moment(field.value) : null,\n                        key: '',\n                        label: field.label,\n                        format: 'dd MMM, yyyy'\n                    });\n                    break;\n                case FieldType.datetime:\n                    item = new CardViewDatetimeItemModel({\n                        value: field.value ? moment(field.value) : null,\n                        key: '',\n                        label: field.label,\n                        format: 'dd MMM, yyyy HH:mm'\n                    });\n                    break;\n                default:\n                    item = new CardViewTextItemModel({\n                        value: field.value,\n                        key: '',\n                        label: field.label,\n                    });\n            }\n            properties.push(item);\n        }\n        return properties;\n    }\n}\n",
    "import { CoreModule } from '@alfresco/adf-core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport {\r\n    MatAutocompleteModule,\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatDividerModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatProgressBarModule,\r\n    MatSelectModule,\r\n    MatTabsModule\r\n} from '@angular/material';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CovalentDialogsModule, CovalentMessageModule, CovalentSearchModule } from '@covalent/core';\r\nimport { JsonFormModule, LamisSharedModule, MatDateFormatModule } from '@lamis/web-core';\r\nimport { NgbPaginationModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgJhipsterModule } from 'ng-jhipster';\r\nimport { PatientDetailsComponent } from './components/patient-details.component';\r\nimport { PatientEditComponent } from './components/patient-edit.component';\r\nimport { PatientListComponent } from './components/patient-list.component';\r\nimport { PatientResolve, ROUTES } from './services/patient.route';\r\nimport { WidgetContainerComponent } from './components/widget-container.component';\r\nimport { TimelineComponent } from './components/timeline.component';\r\nimport { TimelineWidgetModule } from './widget/timeline.widget.module';\r\nimport { MatFormioModule } from 'angular-material-formio';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { UniqueHospitalNumValidator } from './components/unique-hospital-num.validator';\r\nimport { CustomFormsModule } from 'ng2-validation';\r\nimport { DetailedTimelineComponent } from './components/detailed.timeline.component';\r\nimport { SummaryWidgetComponent } from './components/summary.widget.component';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PatientListComponent,\r\n        PatientDetailsComponent,\r\n        PatientEditComponent,\r\n        WidgetContainerComponent,\r\n        TimelineComponent,\r\n        DetailedTimelineComponent,\r\n        SummaryWidgetComponent,\r\n        UniqueHospitalNumValidator\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        NgJhipsterModule,\r\n        LamisSharedModule,\r\n        JsonFormModule,\r\n        MatFormioModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MatDividerModule,\r\n        MatCardModule,\r\n        MatSelectModule,\r\n        MatButtonModule,\r\n        MatCheckboxModule,\r\n        MatTabsModule,\r\n        RouterModule.forChild(ROUTES),\r\n        MatProgressBarModule,\r\n        CovalentMessageModule,\r\n        MatListModule,\r\n        MatChipsModule,\r\n        CoreModule,\r\n        CovalentDialogsModule,\r\n        CovalentSearchModule,\r\n        NgbPaginationModule,\r\n        TimelineWidgetModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        MatDateFormatModule,\r\n        CustomFormsModule,\r\n        MatAutocompleteModule\r\n    ],\r\n    exports: [\r\n        PatientListComponent,\r\n        PatientDetailsComponent,\r\n        PatientEditComponent\r\n    ],\r\n    entryComponents: [\r\n        WidgetContainerComponent,\r\n        TimelineComponent,\r\n        SummaryWidgetComponent\r\n    ],\r\n    providers: [\r\n        //PatientService,\r\n        //ObservationService,\r\n        PatientResolve\r\n    ]\r\n})\r\nexport class PatientModule {\r\n}\r\n",
    "import { Component, OnInit } from '@angular/core';\nimport { PatientService } from '../services/patient.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NotificationService } from '@alfresco/adf-core';\nimport { AppLoaderService } from '@lamis/web-core';\nimport { Patient, StatusHistory } from '../model/patient.model';\nimport * as moment_ from 'moment';\nimport { Moment } from 'moment';\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nconst moment = moment_;\n\n@Component({\n    selector: 'client-status',\n    templateUrl: './client-status.component.html'\n})\nexport class ClientStatusComponent implements OnInit {\n    isSaving: boolean;\n    entity: StatusHistory;\n    patient: Patient;\n    status: string;\n    facilities: string[] = [];\n    facilityTransferredTo: string;\n    statusDates: Moment[] = [];\n    today = moment();\n    statuses = ['TRACED_UNABLE_TO_LOCATE', 'TRACED_AGREED_TO_RETURN_TO_CARE', 'DID_NOT_ATTEMPT_TO_TRACE'];\n\n    constructor(private patientService: PatientService, private activatedRoute: ActivatedRoute, private router: Router,\n                private notification: NotificationService, private appLoaderService: AppLoaderService) {\n    }\n\n    createEntity(): StatusHistory {\n        return <StatusHistory>{};\n    }\n\n    ngOnInit(): void {\n        this.isSaving = false;\n        this.patientService.getActiveFacility().subscribe(fac => {\n            this.patientService.getAllFacility().subscribe(res => {\n                this.facilities = res.map(f => f.name).filter(f => f != fac.name);\n            });\n        });\n        this.activatedRoute.data.subscribe(({entity}) => {\n            this.entity = !!entity && entity.body ? entity.body : entity;\n            if (this.entity === undefined) {\n                this.entity = this.createEntity();\n            }\n            const patientId = this.activatedRoute.snapshot.paramMap.get('patientId');\n            this.patientService.findByUuid(patientId).subscribe((res) => {\n                this.entity.patient = res.body;\n                this.patient = res.body;\n                this.entity.facility = res.body.facility;\n                this.patientService.getStatusDatesByPatient(res.body.id).subscribe((res) => {\n                    this.statusDates = res;\n                });\n            });\n\n            if (this.entity.id) {\n                this.patientService.getStatusName(this.entity.id).subscribe(res => this.status = res);\n\n                if (this.entity && this.entity.extra) {\n                    this.facilityTransferredTo = this.entity.extra.facilityTransferredTo;\n                }\n            }\n        });\n    }\n\n    change(input: string) {\n        if (input) {\n            this.facilities = this.facilities.filter(f => f.toLowerCase().includes(input.toLowerCase()))\n        }\n    }\n\n    filterDates(date: Moment): boolean {\n        let exists = false;\n\n        this.statusDates.forEach(d => {\n            if (date.diff(d, 'days') === 0) {\n                exists = true;\n            }\n        });\n        return (this.entity.id && date.diff(this.entity.dateStatus, 'days') === 0) || !exists;\n    }\n\n    previousState() {\n        window.history.back();\n    }\n\n    save() {\n        this.appLoaderService.open('Saving Client status update...');\n        this.isSaving = true;\n        if (!this.entity.extra) {\n            this.entity.extra = {}\n        }\n        this.entity.extra.facilityTransferredTo = this.facilityTransferredTo;\n\n        if (this.statuses.includes(this.entity.status)) {\n            this.entity.outcome = this.entity.status;\n            this.entity.status = null;\n        }\n        if (this.entity.id !== undefined) {\n            this.subscribeToSaveResponse(this.patientService.updateClientStatus(this.entity));\n        } else {\n            this.subscribeToSaveResponse(this.patientService.saveClientStatus(this.entity));\n        }\n    }\n\n    private subscribeToSaveResponse(result: Observable<HttpResponse<any>>) {\n        result.subscribe(\n            (res: HttpResponse<any>) => this.onSaveSuccess(res.body),\n            (res: HttpErrorResponse) => {\n                this.appLoaderService.close();\n                this.onSaveError();\n                this.onError(res.message)\n            });\n    }\n\n    private onSaveSuccess(result: any) {\n        this.appLoaderService.close();\n        this.isSaving = false;\n        this.notification.showInfo('Client status update successfully saved');\n        this.previousState();\n    }\n\n    private onSaveError() {\n        this.isSaving = false;\n        this.notification.showError('Error saving status update');\n    }\n\n    protected onError(errorMessage: string) {\n        this.isSaving = false;\n        this.notification.showError(errorMessage);\n    }\n}\n",
    "import { ClientStatusComponent } from '../components/client-status.component';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot, Routes } from '@angular/router';\nimport { StatusHistory } from '../model/patient.model';\nimport { PatientService } from './patient.service';\nimport { Observable, of } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { filter, map } from 'rxjs/operators';\nimport { HttpResponse } from '@angular/common/http';\n\n@Injectable()\nexport class StatusResolve implements Resolve<StatusHistory> {\n    constructor(private service: PatientService) {\n    }\n\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<StatusHistory> {\n        const id = route.params['id'] ? route.params['id'] : null;\n        if (id) {\n            return this.service.findClientStatus(id).pipe(\n                filter((response: HttpResponse<StatusHistory>) => response.ok),\n                map((patient: HttpResponse<StatusHistory>) => patient.body)\n            );\n        }\n        return of(<StatusHistory>{});\n    }\n}\n\nexport const ROUTES: Routes = [\n    {\n        path: '',\n        data: {\n            title: 'Clinic Visit',\n            breadcrumb: 'CLINIC VISIT'\n        },\n        children: [\n            {\n                path: 'patient/:patientId/new',\n                component: ClientStatusComponent,\n                data: {\n                    authorities: ['ROLE_DEC'],\n                    title: 'Update Client Status',\n                    breadcrumb: 'UPDATE CLIENT STATUS'\n                },\n                //canActivate: [UserRouteAccessService]\n            },\n            {\n                path: ':id/patient/:patientId/edit',\n                component: ClientStatusComponent,\n                resolve: {\n                    entity: StatusResolve\n                },\n                data: {\n                    authorities: ['ROLE_DEC'],\n                    title: 'Client Status Edit',\n                    breadcrumb: 'CLIENT STATUS EDIT'\n                },\n                //canActivate: [UserRouteAccessService]\n            }\n        ]\n    }\n];\n",
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CovalentDialogsModule } from '@covalent/core';\nimport { CoreModule } from '@alfresco/adf-core';\nimport { JsonFormModule, LamisSharedModule, MatDateFormatModule } from '@lamis/web-core';\nimport { MatFormioModule } from 'angular-material-formio';\nimport { RouterModule } from '@angular/router';\nimport { ROUTES, StatusResolve } from './services/status.route';\nimport {\n    MatButtonModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatDividerModule,\n    MatIconModule,\n    MatInputModule,\n    MatProgressBarModule,\n    MatSelectModule,\n    MatTabsModule\n} from '@angular/material';\nimport { ClientStatusComponent } from './components/client-status.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        CovalentDialogsModule,\n        LamisSharedModule,\n        JsonFormModule,\n        MatFormioModule,\n        MatInputModule,\n        MatIconModule,\n        MatDividerModule,\n        MatCardModule,\n        MatSelectModule,\n        MatButtonModule,\n        MatCheckboxModule,\n        MatTabsModule,\n        RouterModule.forChild(ROUTES),\n        MatProgressBarModule,\n        CoreModule,\n        MatDateFormatModule\n    ],\n    declarations: [\n        ClientStatusComponent\n    ],\n    exports: [\n        ClientStatusComponent\n    ],\n    providers: [\n        StatusResolve\n    ]\n})\nexport class ClientStatusModule {\n\n}\n",
    "/*\r\n * Public API Surface of Patient\r\n */\r\n\r\nexport * from './lib/components/patient-list.component';\r\nexport * from './lib/model/patient.model';\r\nexport * from './lib/services/patient.service';\r\nexport * from './lib/patient.module';\r\nexport * from './lib/client-status.module';\r\n",
    "/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {ClientStatusComponent as Éµt} from './lib/components/client-status.component';\nexport {DetailedTimelineComponent as Éµf} from './lib/components/detailed.timeline.component';\nexport {PatientDetailsComponent as Éµa} from './lib/components/patient-details.component';\nexport {PatientEditComponent as Éµb} from './lib/components/patient-edit.component';\nexport {SummaryWidgetComponent as Éµg} from './lib/components/summary.widget.component';\nexport {TimelineComponent as Éµd} from './lib/components/timeline.component';\nexport {UniqueHospitalNumValidator as Éµh} from './lib/components/unique-hospital-num.validator';\nexport {WidgetContainerComponent as Éµc} from './lib/components/widget-container.component';\nexport {ObservationService as Éµe} from './lib/services/observation.service';\nexport {PatientResolve as Éµi,ROUTES as Éµj} from './lib/services/patient.route';\nexport {ROUTES as Éµs,StatusResolve as Éµr} from './lib/services/status.route';\nexport {TimelineBadge as Éµl} from './lib/widget/timeline.badge';\nexport {TimelineEvent as Éµm} from './lib/widget/timeline.event';\nexport {TimelineFooter as Éµo} from './lib/widget/timeline.footer';\nexport {TimelineHeader as Éµp} from './lib/widget/timeline.header';\nexport {TimelinePanel as Éµq} from './lib/widget/timeline.panel';\nexport {TimelineWidget as Éµn} from './lib/widget/timeline.widget';\nexport {TimelineWidgetModule as Éµk} from './lib/widget/timeline.widget.module';"
  ],
  "names": [
    "tslib_1.__param",
    "tslib_1.__decorate",
    "moment",
    "tslib_1.__values",
    "ROUTES"
  ],
  "mappings": "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"
}

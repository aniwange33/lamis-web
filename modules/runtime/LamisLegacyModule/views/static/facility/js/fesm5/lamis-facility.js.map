{
    "version": 3,
    "file": "lamis-facility.js",
    "sources": [
        "ng://lamis-facility/lib/services/facility.service.ts",
        "ng://lamis-facility/lib/components/facility.component.ts",
        "ng://lamis-facility/lib/services/facility.routes.ts",
        "ng://lamis-facility/lib/facility.module.ts",
        "ng://lamis-facility/public_api.ts",
        "ng://lamis-facility/lamis-facility.ts"
    ],
    "sourcesContent": [
        "import { Inject, Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { SERVER_API_URL_CONFIG, ServerApiUrlConfig } from '@lamis/web-core';\n\n@Injectable({providedIn: 'root'})\nexport class FacilityService {\n    public resourceUrl = '';\n\n    constructor(protected http: HttpClient, @Inject(SERVER_API_URL_CONFIG) private serverUrl: ServerApiUrlConfig) {\n        this.resourceUrl = serverUrl.SERVER_API_URL + '/api/facilities';\n    }\n\n    update(facility): Observable<any> {\n        return this.http\n            .post(`${this.resourceUrl}/switch`, facility, {observe: 'response'});\n    }\n\n    getFacilitiesByLga(id: number): Observable<any> {\n        return this.http\n            .get<any[]>(`${this.resourceUrl}/lga/${id}`, {observe: 'body'})\n    }\n\n    getStates() {\n        return this.http.get<any[]>('/api/states')\n    }\n\n    getLgaByState(id) {\n        return this.http.get<any[]>(`/api/provinces/state/${id}`)\n    }\n\n    getActive() {\n        return this.http\n            .get(`${this.resourceUrl}/active`, {observe: 'response'})\n    }\n}\n",
        "import { Component, OnInit } from '@angular/core';\r\nimport { FacilityService } from '../services/facility.service';\r\nimport { NotificationService } from '@alfresco/adf-core';\r\nimport { entityCompare } from '@lamis/web-core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n    selector: 'lamis-facility',\r\n    templateUrl: './facility.component.html',\r\n    styleUrls: ['./facility.component.scss']\r\n})\r\nexport class FacilityComponent implements OnInit {\r\n    states: any[];\r\n    lgas: any[];\r\n    facilities: any[];\r\n    active: any;\r\n\r\n    facility: any;\r\n\r\n    constructor(private facilityService: FacilityService, private notification: NotificationService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.facilityService.getStates().subscribe(res => this.states = res);\r\n        this.facility = this.facilityService.getActive().subscribe(res => {\r\n            if (res.body) {\r\n                this.facility = res.body\r\n            }\r\n        })\r\n    }\r\n\r\n    entityCompare(e1, e2) {\r\n        return entityCompare(e1, e2);\r\n    }\r\n\r\n    stateChanged(id) {\r\n        this.facilityService.getLgaByState(id).subscribe(res => this.lgas = res)\r\n    }\r\n\r\n    lgaChanged(id) {\r\n        this.facilityService.getFacilitiesByLga(id).subscribe(res => this.facilities = res)\r\n    }\r\n\r\n    setActive() {\r\n        this.facilityService.update(this.active).subscribe(res => {\r\n            if (res.ok && res.body) {\r\n                this.notification.showInfo(`Facility switched to ${res.body.name}`)\r\n            }\r\n        });\r\n    }\r\n}\r\n",
        "import { Routes } from '@angular/router';\nimport { FacilityComponent } from '../components/facility.component';\n\nexport const ROUTES: Routes = [\n    {\n        path: '',\n        data: {\n            title: 'Facility Switch',\n            breadcrumb: 'FACILITY SWITCH'\n        },\n        children: [\n            {\n                path: '',\n                component: FacilityComponent,\n                data: {\n                    authorities: ['ROLE_USER'],\n                    title: 'Facility Switch',\n                    breadcrumb: 'FACILITY SWITCH'\n                },\n                //canActivate: [UserRouteAccessService]\n            },\n        ]\n    }\n];\n",
        "import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport {\r\n    MatButtonModule,\r\n    MatCardModule,\r\n    MatDividerModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatSelectModule\r\n} from '@angular/material';\r\nimport { RouterModule } from '@angular/router';\r\nimport { FacilityComponent } from './components/facility.component';\r\nimport { ROUTES } from './services/facility.routes';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        FacilityComponent\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        MatInputModule,\r\n        MatIconModule,\r\n        MatDividerModule,\r\n        MatCardModule,\r\n        MatSelectModule,\r\n        MatButtonModule,\r\n        FormsModule,\r\n        RouterModule.forChild(ROUTES)\r\n    ],\r\n    exports: [\r\n        FacilityComponent\r\n    ],\r\n    entryComponents: [\r\n    ],\r\n    providers: [\r\n    ]\r\n})\r\nexport class FacilityModule {\r\n}\r\n",
        "/*\r\n * Public API Surface of Patient\r\n */\r\nexport * from './lib/services/facility.service';\r\nexport * from './lib/facility.module';\r\n",
        "/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {FacilityComponent as Éµa} from './lib/components/facility.component';\nexport {ROUTES as Éµb} from './lib/services/facility.routes';"
    ],
    "names": [
        "tslib_1.__param"
    ],
    "mappings": "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"
}

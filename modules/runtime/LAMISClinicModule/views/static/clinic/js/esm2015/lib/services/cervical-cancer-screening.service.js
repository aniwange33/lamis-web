import * as tslib_1 from "tslib";
import { Inject, Injectable } from '@angular/core';
import * as moment_ from 'moment';
import { SERVER_API_URL_CONFIG } from '@lamis/web-core';
import { HttpClient, HttpResponse } from '@angular/common/http';
import { map } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
import * as i2 from "@lamis/web-core";
const moment = moment_;
let CervicalCancerScreeningService = class CervicalCancerScreeningService {
    constructor(http, serverUrl) {
        this.http = http;
        this.serverUrl = serverUrl;
        this.resourceUrl = '';
        this.observationResourceUrl = '';
        this.resourceUrl = serverUrl.SERVER_API_URL + '/api/cervical-cancer-screenings';
        this.observationResourceUrl = serverUrl.SERVER_API_URL + '/api/observations';
    }
    find(id) {
        return this.http.get(`${this.observationResourceUrl}/${id}`, { observe: 'response' })
            .pipe(map(res => {
            console.log('Response1', res);
            res.body.date = res.body.date != null ? moment(res.body.date) : null;
            res.body.data.dateTreated = res.body.data.dateTreated != null ? moment(res.body.data.dateTreated) : null;
            res.body.data.dateScreened = res.body.data.dateScreened != null ? moment(res.body.data.dateScreened) : null;
            return res;
        }));
    }
    findByUuid(id) {
        return this.find(id);
    }
    delete(id) {
        return this.http.delete(`${this.observationResourceUrl}/${id}`, { observe: 'response' });
    }
    save(data) {
        return this.http.post(`${this.observationResourceUrl}`, data, { observe: 'response' })
            .pipe(map(res => {
            res.body.data.dateTreated = res.body.data.dateTreated != null ? moment(res.body.data.dateTreated) : null;
            res.body.data.dateScreened = res.body.data.dateScreened != null ? moment(res.body.data.dateScreened) : null;
            return res;
        }));
    }
    update(data) {
        return this.http.put(`${this.observationResourceUrl}`, data, { observe: 'response' })
            .pipe(map(res => {
            res.body.data.dateTreated = res.body.data.dateTreated != null ? moment(res.body.data.dateTreated) : null;
            res.body.data.dateScreened = res.body.data.dateScreened != null ? moment(res.body.data.dateScreened) : null;
            return res;
        }));
    }
    getScreeningByPatient(id) {
        return this.http.get(`${this.resourceUrl}/patient/${id}`, { observe: 'response' })
            .pipe(map(res => {
            res.body.data = res.body.data.cervicalCancerScreening;
            res.body.date = res.body.date != null ? moment(res.body.date) : null;
            res.body.data.dateTreated = res.body.data.dateTreated != null ? moment(res.body.data.dateTreated) : null;
            res.body.data.dateScreened = res.body.data.dateScreened != null ? moment(res.body.data.dateScreened) : null;
            return res;
        }));
    }
};
CervicalCancerScreeningService.ctorParameters = () => [
    { type: HttpClient },
    { type: undefined, decorators: [{ type: Inject, args: [SERVER_API_URL_CONFIG,] }] }
];
CervicalCancerScreeningService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function CervicalCancerScreeningService_Factory() { return new CervicalCancerScreeningService(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.SERVER_API_URL_CONFIG)); }, token: CervicalCancerScreeningService, providedIn: "root" });
CervicalCancerScreeningService = tslib_1.__decorate([
    Injectable({
        providedIn: 'root'
    }),
    tslib_1.__param(1, Inject(SERVER_API_URL_CONFIG)),
    tslib_1.__metadata("design:paramtypes", [HttpClient, Object])
], CervicalCancerScreeningService);
export { CervicalCancerScreeningService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2VydmljYWwtY2FuY2VyLXNjcmVlbmluZy5zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbGFtaXMtY2xpbmljLTEuNC4wLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL2NlcnZpY2FsLWNhbmNlci1zY3JlZW5pbmcuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFakQsT0FBTyxLQUFLLE9BQU8sTUFBTSxRQUFRLENBQUM7QUFDbEMsT0FBTyxFQUFDLHFCQUFxQixFQUFxQixNQUFNLGlCQUFpQixDQUFDO0FBQzFFLE9BQU8sRUFBQyxVQUFVLEVBQUUsWUFBWSxFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFFOUQsT0FBTyxFQUFDLEdBQUcsRUFBQyxNQUFNLGdCQUFnQixDQUFDOzs7O0FBR25DLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQztBQU12QixJQUFhLDhCQUE4QixHQUEzQyxNQUFhLDhCQUE4QjtJQUl2QyxZQUFzQixJQUFnQixFQUF5QyxTQUE2QjtRQUF0RixTQUFJLEdBQUosSUFBSSxDQUFZO1FBQXlDLGNBQVMsR0FBVCxTQUFTLENBQW9CO1FBSHJHLGdCQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLDJCQUFzQixHQUFHLEVBQUUsQ0FBQztRQUcvQixJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQyxjQUFjLEdBQUcsaUNBQWlDLENBQUM7UUFDaEYsSUFBSSxDQUFDLHNCQUFzQixHQUFHLFNBQVMsQ0FBQyxjQUFjLEdBQUcsbUJBQW1CLENBQUM7SUFDakYsQ0FBQztJQUVELElBQUksQ0FBQyxFQUFVO1FBQ1gsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBYyxHQUFHLElBQUksQ0FBQyxzQkFBc0IsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUMsQ0FBQzthQUMzRixJQUFJLENBQUMs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QUksQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUM1RyxPQUFPLEdBQUcsQ0FBQztRQUNmLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDWixDQUFDO0NBQ0osQ0FBQTs7WUFwRCtCLFVBQVU7NENBQUcsTUFBTSxTQUFDLHFCQUFxQjs7O0FBSjVELDhCQUE4QjtJQUgxQyxVQUFVLENBQUM7UUFDUixVQUFVLEVBQUUsTUFBTTtLQUNyQixDQUFDO0lBSzJDLG1CQUFBLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFBOzZDQUExQyxVQUFVO0dBSjdCLDhCQUE4QixDQXdEMUM7U0F4RFksOEJBQThCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbmplY3QsIEluamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgKiBhcyBtb21lbnRfIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge1NFUlZFUl9BUElfVVJMX0NPTkZJRywgU2VydmVyQXBpVXJsQ29uZmlnfSBmcm9tICdAbGFtaXMvd2ViLWNvcmUnO1xuaW1wb3J0IHtIdHRwQ2xpZW50LCBIdHRwUmVzcG9uc2V9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge21hcH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtPYnNlcnZhdGlvbn0gZnJvbSAnLi4vbW9kZWwvY2xpbmljLm1vZGVsJztcblxuY29uc3QgbW9tZW50ID0gbW9tZW50XztcblxuXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIENlcnZpY2FsQ2FuY2VyU2NyZWVuaW5nU2VydmljZSB7XG4gICAgcHVibGljIHJlc291cmNlVXJsID0gJyc7XG4gICAgcHVibGljIG9ic2VydmF0aW9uUmVzb3VyY2VVcmwgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwQ2xpZW50LCBASW5qZWN0KFNFUlZFUl9BUElfVVJMX0NPTkZJRykgcHJpdmF0ZSBzZXJ2ZXJVcmw6IFNlcnZlckFwaVVybENvbmZpZykge1xuICAgICAgICB0aGlzLnJlc291cmNlVXJsID0gc2VydmVyVXJsLlNFUlZFUl9BUElfVVJMICsgJy9hcGkvY2VydmljYWwtY2FuY2VyLXNjcmVlbmluZ3MnO1xuICAgICAgICB0aGlzLm9ic2VydmF0aW9uUmVzb3VyY2VVcmwgPSBzZXJ2ZXJVcmwuU0VSVkVSX0FQSV9VUkwgKyAnL2FwaS9vYnNlcnZhdGlvbnMnO1xuICAgIH1cblxuICAgIGZpbmQoaWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwLmdldDxPYnNlcnZhdGlvbj4oYCR7dGhpcy5vYnNlcnZhdGlvblJlc291cmNlVXJsfS8ke2lkfWAsIHtvYnNlcnZlOiAncmVzcG9uc2UnfSlcbiAgICAgICAgICAgIC5waXBlKG1hcChyZXMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZTEnLCByZXMpO1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGUgPSByZXMuYm9keS5kYXRlICE9IG51bGwgPyBtb21lbnQocmVzLmJvZHkuZGF0ZSkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGEuZGF0ZVRyZWF0ZWQgPSByZXMuYm9keS5kYXRhLmRhdGVUcmVhdGVkICE9IG51bGwgPyBtb21lbnQocmVzLmJvZHkuZGF0YS5kYXRlVHJlYXRlZCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGEuZGF0ZVNjcmVlbmVkID0gcmVzLmJvZHkuZGF0YS5kYXRlU2NyZWVuZWQgIT0gbnVsbCA/IG1vbWVudChyZXMuYm9keS5kYXRhLmRhdGVTY3JlZW5lZCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZmluZEJ5VXVpZChpZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmQoaWQpO1xuICAgIH1cblxuICAgIGRlbGV0ZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlKGAke3RoaXMub2JzZXJ2YXRpb25SZXNvdXJjZVVybH0vJHtpZH1gLCB7b2JzZXJ2ZTogJ3Jlc3BvbnNlJ30pO1xuICAgIH1cblxuICAgIHNhdmUoZGF0YTogYW55KTogT2JzZXJ2YWJsZTxIdHRwUmVzcG9uc2U8T2JzZXJ2YXRpb24+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdDxPYnNlcnZhdGlvbj4oYCR7dGhpcy5vYnNlcnZhdGlvblJlc291cmNlVXJsfWAsIGRhdGEsIHtvYnNlcnZlOiAncmVzcG9uc2UnfSlcbiAgICAgICAgICAgIC5waXBlKG1hcChyZXMgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGEuZGF0ZVRyZWF0ZWQgPSByZXMuYm9keS5kYXRhLmRhdGVUcmVhdGVkICE9IG51bGwgPyBtb21lbnQocmVzLmJvZHkuZGF0YS5kYXRlVHJlYXRlZCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGEuZGF0ZVNjcmVlbmVkID0gcmVzLmJvZHkuZGF0YS5kYXRlU2NyZWVuZWQgIT0gbnVsbCA/IG1vbWVudChyZXMuYm9keS5kYXRhLmRhdGVTY3JlZW5lZCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKGRhdGE6IGFueSk6IE9ic2VydmFibGU8SHR0cFJlc3BvbnNlPE9ic2VydmF0aW9uPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnB1dDxPYnNlcnZhdGlvbj4oYCR7dGhpcy5vYnNlcnZhdGlvblJlc291cmNlVXJsfWAsIGRhdGEsIHtvYnNlcnZlOiAncmVzcG9uc2UnfSlcbiAgICAgICAgICAgIC5waXBlKG1hcChyZXMgPT4ge1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGEuZGF0ZVRyZWF0ZWQgPSByZXMuYm9keS5kYXRhLmRhdGVUcmVhdGVkICE9IG51bGwgPyBtb21lbnQocmVzLmJvZHkuZGF0YS5kYXRlVHJlYXRlZCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJlcy5ib2R5LmRhdGEuZGF0ZVNjcmVlbmVkID0gcmVzLmJvZHkuZGF0YS5kYXRlU2NyZWVuZWQgIT0gbnVsbCA/IG1vbWVudChyZXMuYm9keS5kYXRhLmRhdGVTY3JlZW5lZCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgZ2V0U2NyZWVuaW5nQnlQYXRpZW50KGlkOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8YW55PihgJHt0aGlzLnJlc291cmNlVXJsfS9wYXRpZW50LyR7aWR9YCwge29ic2VydmU6ICdyZXNwb25zZSd9KVxuICAgICAgICAgICAgLnBpcGUobWFwKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmVzLmJvZHkuZGF0YSA9IHJlcy5ib2R5LmRhdGEuY2VydmljYWxDYW5jZXJTY3JlZW5pbmc7XG4gICAgICAgICAgICAgICAgcmVzLmJvZHkuZGF0ZSA9IHJlcy5ib2R5LmRhdGUgIT0gbnVsbCA/IG1vbWVudChyZXMuYm9keS5kYXRlKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzLmJvZHkuZGF0YS5kYXRlVHJlYXRlZCA9IHJlcy5ib2R5LmRhdGEuZGF0ZVRyZWF0ZWQgIT0gbnVsbCA/IG1vbWVudChyZXMuYm9keS5kYXRhLmRhdGVUcmVhdGVkKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzLmJvZHkuZGF0YS5kYXRlU2NyZWVuZWQgPSByZXMuYm9keS5kYXRhLmRhdGVTY3JlZW5lZCAhPSBudWxsID8gbW9tZW50KHJlcy5ib2R5LmRhdGEuZGF0ZVNjcmVlbmVkKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0pKTtcbiAgICB9XG59XG4iXX0=